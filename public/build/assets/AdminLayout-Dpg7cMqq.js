import{r as n,j as e,q as F,a as w}from"./app-BFW2SJcg.js";import{e as P,f as L,g as S,h as I,i as O,j as U,k as A,l as $,m as B}from"./index-D52ms6_r.js";import{M as D,u as R,P as K,a as T,L as q,m as G}from"./proxy-BbpJ3lFN.js";class H extends n.Component{getSnapshotBeforeUpdate(a){const s=this.props.childRef.current;if(s&&a.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=s.offsetHeight||0,i.width=s.offsetWidth||0,i.top=s.offsetTop,i.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function V({children:r,isPresent:a}){const s=n.useId(),i=n.useRef(null),d=n.useRef({width:0,height:0,top:0,left:0}),{nonce:x}=n.useContext(D);return n.useInsertionEffect(()=>{const{width:f,height:t,top:c,left:m}=d.current;if(a||!i.current||!f||!t)return;i.current.dataset.motionPopId=s;const u=document.createElement("style");return x&&(u.nonce=x),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${t}px !important;
            top: ${c}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[a]),e.jsx(H,{isPresent:a,childRef:i,sizeRef:d,children:n.cloneElement(r,{ref:i})})}const W=({children:r,initial:a,isPresent:s,onExitComplete:i,custom:d,presenceAffectsLayout:x,mode:f})=>{const t=R(_),c=n.useId(),m=n.useCallback(l=>{t.set(l,!0);for(const j of t.values())if(!j)return;i&&i()},[t,i]),u=n.useMemo(()=>({id:c,initial:a,isPresent:s,custom:d,onExitComplete:m,register:l=>(t.set(l,!1),()=>t.delete(l))}),x?[Math.random(),m]:[s,m]);return n.useMemo(()=>{t.forEach((l,j)=>t.set(j,!1))},[s]),n.useEffect(()=>{!s&&!t.size&&i&&i()},[s]),f==="popLayout"&&(r=e.jsx(V,{isPresent:s,children:r})),e.jsx(K.Provider,{value:u,children:r})};function _(){return new Map}const y=r=>r.key||"";function k(r){const a=[];return n.Children.forEach(r,s=>{n.isValidElement(s)&&a.push(s)}),a}const J=({children:r,exitBeforeEnter:a,custom:s,initial:i=!0,onExitComplete:d,presenceAffectsLayout:x=!0,mode:f="sync"})=>{const t=n.useMemo(()=>k(r),[r]),c=t.map(y),m=n.useRef(!0),u=n.useRef(t),l=R(()=>new Map),[j,M]=n.useState(t),[p,N]=n.useState(t);T(()=>{m.current=!1,u.current=t;for(let h=0;h<p.length;h++){const o=y(p[h]);c.includes(o)?l.delete(o):l.get(o)!==!0&&l.set(o,!1)}},[p,c.length,c.join("-")]);const C=[];if(t!==j){let h=[...t];for(let o=0;o<p.length;o++){const g=p[o],v=y(g);c.includes(v)||(h.splice(o,0,g),C.push(g))}f==="wait"&&C.length&&(h=C),N(k(h)),M(t);return}const{forceRender:b}=n.useContext(q);return e.jsx(e.Fragment,{children:p.map(h=>{const o=y(h),g=t===p||c.includes(o),v=()=>{if(l.has(o))l.set(o,!0);else return;let E=!0;l.forEach(z=>{z||(E=!1)}),E&&(b==null||b(),N(u.current),d&&d())};return e.jsx(W,{isPresent:g,initial:!m.current||i?void 0:!1,custom:g?void 0:s,presenceAffectsLayout:x,mode:f,onExitComplete:g?void 0:v,children:h},o)})})},Z=({children:r,title:a})=>{F().props;const[s,i]=n.useState(!1),[d,x]=n.useState(!1),f=[{icon:U,text:"Dashboard",route:"admin.dashboard"},{icon:A,text:"Posts",route:"admin.posts"},{icon:$,text:"Users",route:"admin.users"},{icon:B,text:"Comments",route:"admin.comments"}];return e.jsxs("div",{className:"flex h-screen bg-gray-100",children:[e.jsx(J,{children:s&&e.jsxs(G.aside,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-y-0 left-0 z-50 w-64 bg-indigo-700 text-white p-4 shadow-lg md:relative md:translate-x-0",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Admin Panel"}),e.jsx("button",{onClick:()=>i(!1),className:"md:hidden",children:e.jsx(P,{size:24})})]}),e.jsx("nav",{children:e.jsx("ul",{className:"space-y-2",children:f.map((t,c)=>e.jsx("li",{children:e.jsxs(w,{href:route(t.route),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-indigo-600 transition duration-150",children:[e.jsx(t.icon,{size:20}),e.jsx("span",{children:t.text})]})},c))})})]})}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx("header",{className:"bg-white shadow-sm",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 flex justify-between items-center",children:[e.jsx("button",{onClick:()=>i(!s),className:"md:hidden",children:e.jsx(L,{size:24})}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:a}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>x(!d),className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900 focus:outline-none",children:e.jsx(S,{size:20})}),d&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1",children:[e.jsxs(w,{href:route("profile.edit"),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(I,{className:"inline-block mr-2"})," ","Settings"]}),e.jsxs(w,{href:route("logout"),method:"post",as:"button",className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(O,{className:"inline-block mr-2"})," ","Logout"]})]})]})]})}),e.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:r})})]})]})};export{Z as A};
